<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Switzerland Glacier Retreat</title>
  <link rel="stylesheet" href="style.css">
  <!-- Include d3.js from a CDN -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <!-- Include Leaflet.js from a CDN -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- Include Turf from a CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf/turf.min.js"></script>
  <!-- Include MapLibre GL JS from a CDN -->
  <link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet">
  <script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
</head>
<body>
  <header>
    <div id="header-inner">
      <h1>Switzerland Glacier</br>Retreat Tracker</h1>
      </br>
      <body>Visualising the retreat of Switzerland's glaciers since 1850.</body>
    </div>
  </header>
  
  <!-- Glacier Selector -->
  <div id="id-selector-container">
    <select id="idSelector">
      <option value="">Select glacier...</option>
    </select>
    <button id="returnToAll" style="display: none;">Return to All</button>
  </div>

  <!-- Container for the map -->
  <div id="map-container" style="width: 800px; height: 600px;"></div>

  <!-- Slider control for selecting the year -->
  <div id="controls">
    <input type="range" id="yearSlider" min="0" max="4" step="1" value="0">
    <span id="yearLabel">1850</span>
  </div>
  
  <!-- Display for the total area -->
  <div id="total-area">
    <strong>Total Glacier Area:</strong> <span id="areaValue">0</span> km²
  </div>

  <!-- Display for the change since 1850 -->
  <div id="change-since-1850">
    <strong>Total Change Since 1850:</strong> <span id="changeValue">0</span> km²
  </div>

  <!-- Display for the area change per year -->
  <div id="change-per-year">
    <strong>Annual Rate of Change Since 1850:</strong> 
    <span id="changePerYearValue">0</span> km² 
    (<span id="changePerYearPercent">0</span>%)
  </div>

  <!-- Display a stacked bar -->
  <div id="stacked-bar-container">
    <strong>National Glacier Retreat</strong>
    <svg id="stacked-bar-full" width="400" height="25"></svg>
    <strong>Selected Glacier Retreat</strong>
    <svg id="stacked-bar-glacier" width="400" height="25"></svg>
    <strong>Glacier Areas</strong>
    <svg id="glacier-bar-chart" width="400" height="500"></svg>
  </div>


  <!-- Retreat rate bar chart -->
  <div id="retreat-rate-chart-container">
    <svg id="retreat-rate-chart" width="400" height="200"></svg>
  </div>

  <!-- References Section -->
  <footer id="references">
    <h2>References</h2>
    <p>Data for this webpage was sourced from <a href="https://www.glamos.ch/en/downloads#inventories" target="_blank">Swiss Glacier Monitoring Network (GLAMOS)</a>:</p>
    <div class="reference-grid">
      <div class="reference-item">
        <h4>2016 Data</h4>
        <p>Linsbauer, A., Huss, M., Hodel, E., Bauder, A., Fischer, M., Weidmann, Y., Bärtschi, H. & Schmassmann, E. 2021, The new Swiss Glacier Inventory SGI2016: From a topographical to a glaciological dataset. Frontiers in Earth Science, 22, doi:10.3389/feart.2021.704189.</p>
      </div>
      <div class="reference-item">
        <h4>2010 Data</h4>
        <p>Fischer, M., Huss, M., Barboux, C. & Hoelzle, M. 2014, The new Swiss Glacier Inventory SGI2010: relevance of using high-resolution source data in areas dominated by very small glaciers. Arctic, Antarctic, and Alpine Research, 46, 933–945.</p>
      </div>
      <div class="reference-item">
        <h4>1973 Data</h4>
        <p>Müller, F., Caflisch, T. & Müller, G. 1976, Firn und Eis der Schweizer Alpen (Gletscherinventar). Publ. Nr. 57/57a. Geographisches Institut, ETH Zürich, 2 Vols. & Maisch, M., Wipf, A., Denneler, B., Battaglia, J. & Benz, C. 2000, Die Gletscher der Schweizer Alpen: Gletscherhochstand 1850, Aktuelle Vergletscherung, Gletscherschwund-Szenarien. (Schlussbericht NFP 31). 2. Auflage. vdf Hochschulverlag an der ETH Zürich, 373 pp. & Paul, F. 2004, The new Swiss glacier inventory 2000 – application of remote sensing and GIS. PhD Thesis, Department of Geography, University of Zurich, Schriftenreihe Physische Geographie, 52, 210 pp.</p>
      </div>
      <div class="reference-item">
        <h4>1931 Data</h4>
        <p>Mannerfelt, E. S., Dehecq, A., Hugonnet, R., Hodel, E., Huss, M., Bauder, A., and Farinotti, D. 2022, Halving of Swiss glacier volume since 1931 observed from terrestrial image photogrammetry. The Cryosphere, 16, 3249–3268, doi.org/10.5194/tc-16-3249-2022.</p>
      </div>
      <div class="reference-item">
        <h4>1850 Data</h4>
        <p>Maisch, M., Wipf, A., Denneler, B., Battaglia, J. & Benz, C. 2000, Die Gletscher der Schweizer Alpen: Gletscherhochstand 1850, Aktuelle Vergletscherung, Gletscherschwund-Szenarien. (Schlussbericht NFP 31). 2. Auflage. vdf Hochschulverlag an der ETH Zürich, 373 pp. & Paul, F. 2004, The new Swiss glacier inventory 2000 – application of remote sensing and GIS. PhD Thesis, Department of Geography, University of Zurich, Schriftenreihe Physische Geographie, 52, 210 pp.</p>
      </div>
    </div>
  </footer>


  <!-- Link to our script -->
  <script src="script.js"></script>
</body>
</html>
